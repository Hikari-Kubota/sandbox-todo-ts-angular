<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="../angular-1.2.29/angular.js"></script>
</head>
<body ng-app='app'>

<div ng-controller="WatchController">
{{result}}<br>
{{message}}<br>
<input type="button" ng-click="change()" value="change">
</div>

<script type="text/javascript">

    angular.module('app', [])
        .controller('WatchController', ['$scope', function($scope) {
            $scope.message = 'Hello World!';
            $scope.result  = '';
            $scope.change = function() {
                $scope.message = 'change!!';
            };
            $scope.$watch('message', function(newValue, oldValue, scope) {
                if(angular.equals(newValue, oldValue)) {
                    scope.result = 'ok';
                } else {
                    scope.result = 'ng';
                }
            });
        }]);
</script>
</body>
</html>
